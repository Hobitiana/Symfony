<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte de Madagascar </title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <style>
        #map {
            height: 500px;
        }
    </style>
     <link href="{{asset('profile/assets/vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/vendor/bootstrap-icons/bootstrap-icons.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/vendor/boxicons/css/boxicons.min.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/vendor/quill/quill.snow.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/vendor/quill/quill.bubble.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/vendor/remixicon/remixicon.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/vendor/simple-datatables/style.css')}}" rel="stylesheet">
    <link href="{{asset('profile/assets/css/style.css')}}" rel="stylesheet">
      <link href="{{asset('css/progressBar.css')}}" rel="stylesheet">
      
    <link rel="stylesheet" href="{{ asset('assets/css/process.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/bootstrap.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/progessBar.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendors/perfect-scrollbar/perfect-scrollbar.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/app.css') }}">
  
    <link rel="shortcut icon" href="{{ asset('assets/images/favicon.svg') }}" type="image/x-icon">
    {% block stylesheets %}

    {% endblock %}
    
    <style>
    

        html, body {
            height: 100%;
            margin: 0;
        }
        #app {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        #main {
            flex: 1;
        }
        footer {
            margin-top: auto;
        }
       
    </style>
</head>
</head>
<body>
    
    <div id="app">
        {% include 'layout_Dash/sidebar.html.twig' %}
        <div id="main">
            {% include 'layout_Dash/navbar.html.twig' %}
            <div class="main-content container-fluid">
                {% block content %}
                <h1>Carte de Madagascar </h1>
                <div id="map"></div>
                {% endblock %}
            </div>
        </div>
        {% include 'layout_Dash/footer.html.twig' %}
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script>
        // Initialisation de la carte centrée sur Antananarivo, Madagascar
        const map = L.map('map').setView([-18.8792, 47.5079], 6);

        // Ajout des tuiles de OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        }).addTo(map);

        // Ajout d'un marqueur à Antananarivo
        const marker = L.marker([-18.8792, 47.5079]).addTo(map)
            .bindPopup('Antananarivo, Madagascar')
            .openPopup();

        // Ajout de la barre de recherche avec Leaflet Control Geocoder
        L.Control.geocoder({
            geocoder: new L.Control.Geocoder.Nominatim(), // Utilisation de Nominatim pour des recherches intelligentes
            defaultMarkGeocode: true,  // Place un marqueur à l'emplacement trouvé
            placeholder: 'Rechercher un lieu...', // Texte d’indication dans la barre de recherche
            queryDelay: 500, // Délai pour éviter trop de requêtes au serveur pendant la saisie
        }).addTo(map);
    </script>
     <script src="{{ asset('assets/js/feather-icons/feather.min.js') }}"></script>
    <script src="{{ asset('assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js') }}"></script>
    <script src="{{ asset('assets/js/app.js') }}"></script>
    <script src="{{ asset('assets/js/main.js') }}"></script>

    <!-- Profil vendor -->
    <script src="{{asset('profile/assets/vendor/apexcharts/apexcharts.min.js')}}"></script>
    <script src="{{asset('profile/assets/vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{asset('profile/assets/vendor/chart.js/chart.min.js')}}"></script>
    <script src="{{('profile/assets/vendor/echarts/echarts.min.js')}}"></script>
    <script src="{{asset('profile/assets/vendor/quill/quill.min.js')}}"></script>
    <script src="{{asset('profile/assets/vendor/simple-datatables/simple-datatables.js')}}"></script>
    <script src="{{asset('profile/assets/vendor/tinymce/tinymce.min.js')}}"></script>
    <script src="{{asset('profile/assets/vendor/php-email-form/validate.js')}}"></script>

    <!-- Profil vendor 2 -->
    <script src="{{asset('profile/assets/js/main.js')}}"></script>
    <script src="{{ asset('build/app.js') }}"></script>
    <script src="{{ asset('assets/vendor/echarts/echarts.min.js') }}"></script>
    <script src="{{ asset('build/echarts.min.js') }}"></script> <!-- Si vous utilisez Webpack Encore -->
     {% block javascripts %}
        
    {% endblock %}
</body>
</html>
